---
import { SEO } from '../data/seo'

interface Props {
  image: string
  alt?: string
}

const { image, alt = 'Promoción del mes – Asistencia Privada' } = Astro.props

// WhatsApp CTA construido desde SEO unificado (ERIKA)
const wa = `https://wa.me/${SEO.identity.contact.whatsapp}?text=${encodeURIComponent(
  'Hola, quisiera solicitar información sobre planes de asistencia privada'
)}`
---

<section id="promo" class="relative w-full overflow-hidden bg-white">
  <a
    href={wa}
    target="_blank"
    rel="noopener noreferrer"
    data-cta="whatsapp"
    class="block relative group"
  >
    <img
      src={image}
      alt={alt}
      class="w-full mx-auto md:w-[65%] md:p-12 h-auto object-cover cursor-pointer transition-transform duration-300 group-hover:scale-[1.02] animate-promopulse"
      loading="lazy"
      fetchpriority="high"
      decoding="async"
    />

    <div
      class="absolute bottom-4 right-4 bg-black/40 text-white px-3 py-1 rounded-lg text-sm backdrop-blur-sm opacity-0 group-hover:opacity-100 transition-opacity duration-300"
    >
      Ver promoción
    </div>
  </a>
</section>

<style>
  @keyframes promoPulse {
    0%,
    98% {
      transform: scale(1);
    }
    99% {
      transform: scale(1.008);
    }
    100% {
      transform: scale(1);
    }
  }

  .animate-promopulse {
    animation: promoPulse 9s ease-in-out infinite;
  }
</style>
